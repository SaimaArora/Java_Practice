class Solution {
    class Pair{
        int to, cost;
        Pair(int t, int c) {
            this.to = t;
            this.cost = c;
        }
    }
    class Flight{
        int stops, node, cost;
        Flight(int st, int des, int cos) {
            this.stops = st;
            this.node = des;
            this.cost = cos;
        }
    }
    public int findCheapestPrice(int n, int[][] flights, int src, int dst, int k) {
        List<List<Pair>> adj = new ArrayList<>();
        for (int i = 0; i < n; i++) {
            adj.add(new ArrayList<>());
        }
        for (int i = 0 ; i < flights.length; i++){ 
            adj.get(flights[i][0]).add(new Pair(flights[i][1], flights[i][2]));
        }
        int[] minimum = new int[n];
        Arrays.fill(minimum, Integer.MAX_VALUE);
        PriorityQueue<Flight> pq = new PriorityQueue<>((x, y) -> x.cost - y.cost);
        pq.offer(new Flight(0, src, 0));
        while (!pq.isEmpty()) {
            Flight curr = pq.poll();
            int stops = curr.stops, val = curr.node, cost = curr.cost;
            if (val == dst) return cost;
            if (stops > k || minimum[val] <= stops) continue;
            minimum[val] = stops;
            for (Pair neigh : adj.get(val)) {
                pq.offer(new Flight(stops+1, neigh.to, neigh.cost+cost));
            }
        }
        return -1;
    }

}
