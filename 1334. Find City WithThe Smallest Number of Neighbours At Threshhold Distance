class Solution {
    public int findTheCity(int n, int[][] edges, int thresh) {
        int[][] city = new int[n][n];
        for(int i = 0; i < city.length; i++) {
            Arrays.fill(city[i], Integer.MAX_VALUE);
            city[i][i] = 0;
        }
        for(int i = 0; i < edges.length; i++) {
            int r = edges[i][0], c = edges[i][1], w = edges[i][2];
            city[r][c] = w;
            city[c][r] = w;
        }
        for(int inter = 0; inter < n; inter++) {
            for(int src = 0;src < n; src++) {
                for (int dest = 0; dest < n; dest++) {
                    if(city[src][inter] == Integer.MAX_VALUE || city[inter][dest] == Integer.MAX_VALUE) continue;
                    city[src][dest] = Math.min(city[src][dest], city[src][inter] + city[inter][dest]);
                    city[dest][src] = Math.min(city[src][dest], city[src][inter] + city[inter][dest]);
                }
            }
        }
        int minCount = Integer.MAX_VALUE, count = 0, maxLimit = Integer.MIN_VALUE, limit = 0, answer = 0; 
        for(int i = 0; i < city.length; i++) {
            int[] curr = city[i];
            count = 0;
            for(int num : curr) {
                if(num!=Integer.MAX_VALUE && num !=0&& num <= thresh) {
                    count++;
                }
            }
            if(count <= minCount){
                answer = i;
                minCount = count;
            }
        }
        return answer;
    }
}
