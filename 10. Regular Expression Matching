class Solution {
    public boolean recursion(int i, int j, String s, String p, Boolean[][] memo) {
        if(s.length() == i && p.length() == j) return true;
        if(p.length() == j) return false;
        if(memo[i][j] != null) return memo[i][j];        
        boolean first = (s.length() > i && (s.charAt(i) == p.charAt(j) || (p.charAt(j) == '.')));
        if(j < p.length() - 1 && p.charAt(j+1) == '*') {
            return memo[i][j] = recursion(i, j+2, s, p, memo) || (first && recursion(i+1, j, s, p, memo));
        }
        else {
            return memo[i][j] = first && recursion(i+1, j+1, s, p, memo);
        }
    }
    
    public boolean isMatch(String s, String p) {
        int n = s.length(), m = p.length();
        Boolean[][] memo = new Boolean[n+1][m+1];
        return recursion(0, 0, s, p, memo);
    }
}
