
    public static void dfs(ArrayList<Integer>[] adj, boolean[] visited, ArrayList<Integer> result, int num) {
        result.add(num);
        ArrayList<Integer> ele = adj[num];
        visited[num] = true;
        for(int i = 0; i < ele.size(); i++) {
            if(!visited[ele.get(i)]) {
                dfs(adj, visited, result, ele.get(i));
            }
        }
    }

    public static ArrayList<Integer> bfs(int n, ArrayList<Integer>[] adj) {
        ArrayList<Integer> result = new ArrayList<>();
        Queue<Integer> queue = new LinkedList<>();
        boolean visited[] = new boolean[n];
        Arrays.fill(visited, false);
        queue.add(0);
        visited[0] = true;
        while(!queue.isEmpty()) {
            int num = queue.remove();
            ArrayList<Integer> neighbours = adj[num];
            for(int i = 0; i < neighbours.size(); i++) {
                int ele = neighbours.get(i);
                if(!visited[ele]) {
                    queue.add(ele);
                    visited[ele] = true;
                }
            }
            result.add(num);
        }
        return result;
    }

    public static void main(String[] args) {

        Scanner sc = new Scanner(System.in);
        System.out.println("Enter nodes and edges: ");
        int n = sc.nextInt();
        int m = sc.nextInt();

        //matrix - SC - O(n^2)
//        int[][] adj = new int[n+1][n+1];
//        for (int i = 0; i < m; i++) {
//            int u = sc.nextInt();
//            int v = sc.nextInt();
//            adj[u][v] = 1;
//            adj[v][u] = 1; // for undirected graph
//        }

        //list - SC -O(2*m)
        ArrayList<Integer>[] list= new ArrayList[n];
        for (int i = 0; i < n; i++) {
            list[i] = new ArrayList<>();
        }
        for (int i = 0; i < m/2; i++) {
            System.out.println("Enter the u-v: ");
            int u = sc.nextInt();
            int v = sc.nextInt();
            list[u].add(v);
            list[v].add(u); //for undirected
        }
        System.out.println(Arrays.toString(list));
//        ArrayList<Integer> result = bfs(n, list);
        ArrayList<Integer> ans = new ArrayList<>();
        boolean[] visited = new boolean[n];
        dfs(list, visited, ans, 0);
        System.out.println(ans);
        sc.close();
    }
